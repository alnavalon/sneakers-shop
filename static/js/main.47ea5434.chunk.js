(this["webpackJsonpsneakers-shop"]=this["webpackJsonpsneakers-shop"]||[]).push([[0],{10:function(e,t,r){e.exports={overlay:"Drawer_overlay__ms4lz",title:"Drawer_title__3vxPi",overlayVisible:"Drawer_overlayVisible__1vRtg",drawer:"Drawer_drawer__Qmlcg",header:"Drawer_header__1bbl5",cart:"Drawer_cart__1-Drq",summary:"Drawer_summary__2uVKf",decoration:"Drawer_decoration__23EL8",removeButton:"Drawer_removeButton__1Crtu Buttons_removeButton__1KkuA",orderButton:"Drawer_orderButton__SvlKv Buttons_mainCartButton__2oIWn"}},16:function(e,t,r){e.exports={cart:"CartContent_cart__1a43b",title:"CartContent_title__3bmTk",logo:"CartContent_logo__1UO5m",description:"CartContent_description__3rumq",mainBtn:"CartContent_mainBtn__23Vb1 Buttons_mainCartButton__2oIWn",arrow:"CartContent_arrow__2nUXs"}},19:function(e,t,r){e.exports={leftSide:"Header_leftSide__rJd3a",logo:"Header_logo__2rV_4",title:"Header_title__2X6p0",navigation:"Header_navigation__1M65b"}},20:function(e,t,r){e.exports={cartItem:"CartItem_cartItem__3Lk3Y",logo:"CartItem_logo__3DLBR",description:"CartItem_description__1LwkA",removeButton:"CartItem_removeButton__6U-BO Buttons_removeButton__1KkuA"}},21:function(e,t,r){e.exports={card:"Card_card__d8D18",favorite:"Card_favorite__2MZQS",itemName:"Card_itemName__1912A",add:"Card_add__1kpjE"}},44:function(e,t,r){},71:function(e,t,r){"use strict";r.r(t);var a=r(1),c=r.n(a),n=r(37),s=r.n(n),i=r(13),o=(r(44),r(15)),l=r(4),d=r.n(l),u=r(12),j=r(5),m=c.a.createContext({}),h=r(19),b=r.n(h),x=r(0);function v(e){var t=e.onClickCart,r=Object(a.useContext)(m).cartTotalPrice;return Object(x.jsxs)("header",{children:[Object(x.jsx)(i.b,{to:"/",children:Object(x.jsxs)("div",{className:b.a.leftSide,children:[Object(x.jsx)("img",{className:b.a.logo,src:"img/logo.svg",alt:"Logo"}),Object(x.jsxs)("div",{className:b.a.title,children:[Object(x.jsx)("h3",{className:"text-uppercase",children:"sneakers for you"}),Object(x.jsx)("p",{children:"The best sneaker's store"})]})]})}),Object(x.jsxs)("ul",{className:b.a.navigation,children:[Object(x.jsxs)("li",{onClick:t,children:[Object(x.jsx)("img",{src:"img/cart.png",alt:"Cart"}),Object(x.jsx)("span",{children:Object(x.jsx)("b",{children:"".concat(r," z\u0142")})})]}),Object(x.jsx)("li",{children:Object(x.jsx)(i.b,{to:"/favorites",children:Object(x.jsx)("img",{src:"img/like.png",alt:"Favorite sneakers"})})}),Object(x.jsx)("li",{children:Object(x.jsx)(i.b,{to:"/orders",children:Object(x.jsx)("img",{src:"img/user.png",alt:"User's console"})})})]})]})}var O=r(10),p=r.n(O),f=r(16),g=r.n(f);var _=function(e){var t=e.title,r=e.imageUrl,c=e.description,n=e.setIsOrderComplete,s=Object(a.useContext)(m).setIsCartOpened;return Object(x.jsxs)("div",{className:g.a.cart,children:[Object(x.jsx)("img",{className:g.a.logo,width:"120px",height:"120px",src:r,alt:"Cart Logo"}),Object(x.jsx)("h2",{className:g.a.title,children:t}),Object(x.jsx)("p",{className:g.a.description,children:c}),Object(x.jsxs)("button",{onClick:function(){s(!1),n(!1)},className:g.a.mainBtn,children:[Object(x.jsx)("img",{src:"img/arrow.svg",className:g.a.arrow,alt:"Arrow"}),"Back"]})]})},C=r(11),w=r.n(C),k=function(){return w.a.get("https://60e8fd92673e350017c21967.mockapi.io/items")},N=function(){return w.a.get("https://60e8fd92673e350017c21967.mockapi.io/cart")},I=function(e){return w.a.post("https://60e8fd92673e350017c21967.mockapi.io/cart",e)},y=function(e){return w.a.delete("https://60e8fd92673e350017c21967.mockapi.io/cart/".concat(e),void 0)},F=function(){return w.a.get("https://60e8fd92673e350017c21967.mockapi.io/favorite")},S=function(e){return w.a.post("https://60e8fd92673e350017c21967.mockapi.io/favorite",e)},T=function(e){return w.a.delete("https://60e8fd92673e350017c21967.mockapi.io/favorite/".concat(e),void 0)},A=function(){return w.a.get("https://60e8fd92673e350017c21967.mockapi.io/orders")},B=function(e){return w.a.post("https://60e8fd92673e350017c21967.mockapi.io/orders",{items:e.cartItems,price:e.cartTotalPrice})},V=r(20),R=r.n(V);function L(e){var t=e.id,r=e.title,c=e.price,n=e.imageUrl,s=Object(a.useContext)(m).onRemoveFromCart;return Object(x.jsxs)("div",{className:R.a.cartItem,children:[Object(x.jsx)("img",{className:R.a.logo,src:n,alt:"Sneakers",width:70,height:70}),Object(x.jsxs)("div",{className:R.a.description,children:[Object(x.jsx)("p",{className:"item-name",children:r}),Object(x.jsxs)("b",{className:"price",children:[c," z\u0142"]})]}),Object(x.jsx)("button",{className:R.a.removeButton,onClick:function(){s(t)},children:Object(x.jsx)("img",{src:"img/cancel-btn.svg",alt:"Remove",width:32,height:32})})]})}function U(e){var t=Object(a.useContext)(m),r=t.cartItems,c=t.setCartItems,n=t.cartTotalPrice,s=t.isCartOpened,i=t.setIsCartOpened,o=Object(a.useState)(!1),l=Object(j.a)(o,2),h=l[0],b=l[1],v=Object(a.useState)(null),O=Object(j.a)(v,2),f=O[0],g=O[1],C=Object(a.useState)(!1),w=Object(j.a)(C,2),k=w[0],N=w[1],I=function(e){return new Promise((function(t){return setTimeout(t,e)}))},F=function(){var e=Object(u.a)(d.a.mark((function e(){var t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return N(!0),b(!0),e.prev=2,e.next=5,B({cartItems:r,cartTotalPrice:n});case 5:if(201!==(t=e.sent).status){e.next=20;break}a=0;case 8:if(!(a<r.length)){e.next=16;break}return e.next=11,y(r[a].id);case 11:return e.next=13,I(500);case 13:a++,e.next=8;break;case 16:c([]),g(t.data.id),e.next=21;break;case 20:alert("Server doesn't response. Please try it later");case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(2),console.log(e.t0);case 26:return e.prev=26,N(!1),e.finish(26);case 29:case"end":return e.stop()}}),e,null,[[2,23,26,29]])})));return function(){return e.apply(this,arguments)}}();return Object(x.jsx)("div",{className:"".concat(p.a.overlay," ").concat(s?p.a.overlayVisible:""),children:Object(x.jsxs)("div",{className:p.a.drawer,children:[Object(x.jsxs)("div",{className:p.a.header,children:[Object(x.jsx)("h2",{className:p.a.title,children:"Cart"}),Object(x.jsx)("button",{className:p.a.removeButton,onClick:function(){i(!1),b(!1)},children:Object(x.jsx)("img",{src:"img/cancel-btn.svg",alt:"Close cart",width:32,height:32})})]}),r.length>0?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("div",{className:p.a.cart,children:r.map((function(e){return Object(x.jsx)(L,{id:e.id,title:e.title,price:e.price,imageUrl:e.imageUrl},e.id)}))}),Object(x.jsxs)("div",{className:p.a.summary,children:[Object(x.jsxs)("ul",{children:[Object(x.jsxs)("li",{children:[Object(x.jsx)("span",{children:"Total: "}),Object(x.jsx)("div",{className:p.a.decoration}),Object(x.jsxs)("b",{children:[" ",n," z\u0142"]})]}),Object(x.jsxs)("li",{children:[Object(x.jsx)("span",{children:"Tax 23%:"}),Object(x.jsx)("div",{className:p.a.decoration}),Object(x.jsxs)("b",{children:[" ",(.23*n).toFixed(2)," z\u0142"]})]})]}),Object(x.jsxs)("button",{className:p.a.orderButton,onClick:F,disabled:k,children:["CHECKOUT",Object(x.jsx)("img",{src:"img/arrow.svg",alt:"arrow"})]})]})]}):Object(x.jsx)(_,{title:h?"Your order #".concat(f," has been completed"):"Cart is empty",imageUrl:h?"img/complete-order.png":"img/empty-cart.png",description:h?"Your order will be delivered soon":"There are no items in your cart",setIsOrderComplete:b})]})})}var D=r(23),P=r(21),z=r.n(P),E=r(39);function Y(e){var t=e.id,r=e.imageUrl,c=e.title,n=e.price,s=e.onAddToCart,i=e.onRemoveFromCart,o=e.onAddToFavorite,l=e.onRemoveFromFavorite,d=e.favorited,u=void 0!==d&&d,j=e.loading,h=void 0!==j&&j,b=Object(a.useContext)(m),v=b.isItemAddedToCart,O=b.isItemAddedToFavorites,p=v(t),f=u||O(t);return Object(x.jsx)("div",{className:z.a.card,children:h?Object(x.jsxs)(E.a,{speed:2,width:155,height:204,viewBox:"0 0 150 187",backgroundColor:"#f3f3f3",foregroundColor:"#ecebeb",children:[Object(x.jsx)("rect",{x:"0",y:"0",rx:"10",ry:"10",width:"150",height:"91"}),Object(x.jsx)("rect",{x:"0",y:"107",rx:"3",ry:"3",width:"150",height:"10"}),Object(x.jsx)("rect",{x:"0",y:"121",rx:"3",ry:"3",width:"93",height:"15"}),Object(x.jsx)("rect",{x:"0",y:"163",rx:"8",ry:"8",width:"80",height:"24"}),Object(x.jsx)("rect",{x:"118",y:"155",rx:"8",ry:"8",width:"32",height:"32"})]}):Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("div",{className:z.a.favorite,children:o&&Object(x.jsx)("img",{src:f?"img/liked-heart.svg":"img/unliked-heart.svg",alt:"Like button",onClick:function(){f?l(t):o({itemId:t,imageUrl:r,title:c,price:n})}})}),Object(x.jsx)("img",{src:r,alt:"Sneakers",width:133,height:112}),Object(x.jsx)("h5",{className:z.a.itemName,children:c}),Object(x.jsxs)("div",{className:"d-flex justify-between align-center",children:[Object(x.jsxs)("div",{className:"d-flex flex-column",children:[Object(x.jsx)("span",{children:"Price: "}),Object(x.jsxs)("b",{className:"price",children:[n," z\u0142"]})]}),s&&Object(x.jsx)("img",{src:p?"img/add-btn-checked.svg":"img/add-btn.svg",alt:"Add",className:z.a.add,onClick:function(){p?i(t):s({itemId:t,imageUrl:r,title:c,price:n})}})]})]})})}var H=function(e){var t=c.a.useContext(m).items;return Object(x.jsxs)("section",{className:"content p-40",children:[Object(x.jsxs)("div",{className:"d-flex justify-between mb-40",children:[Object(x.jsx)("h1",{children:e.searchInputValue?"Search results for: ".concat(e.searchInputValue):"All sneakers"}),Object(x.jsxs)("div",{className:"search-block d-flex align-center",children:[Object(x.jsx)("img",{src:"img/search.svg",className:"mr-15",alt:"Search"}),Object(x.jsx)("input",{type:"text",placeholder:"Search...",onChange:e.onChangeSearchInput,value:e.searchInputValue}),e.searchInputValue&&Object(x.jsx)("img",{src:"img/cancel-btn.svg",onClick:e.clearSearchValue,alt:"Clear",width:"17",height:"17"})]})]}),Object(x.jsx)("div",{className:"d-flex flex-wrap",children:function(){var r=t.filter((function(t){return t.title.toLowerCase().includes(e.searchInputValue.toLowerCase())}));return(e.isLoading?Object(o.a)(Array(8)):r).map((function(t,r){return Object(x.jsx)(Y,Object(D.a)({onAddToCart:e.onAddToCart,onRemoveFromCart:e.onRemoveFromCart,onAddToFavorite:e.onAddToFavorite,onRemoveFromFavorite:e.onRemoveFromFavorite,loading:e.isLoading},t),(null===t||void 0===t?void 0:t.id)?t.id:r)}))}()})]})},K=r(2);function J(e){var t=c.a.useContext(m).favoriteItems;return Object(x.jsxs)("div",{className:"content p-40",children:[Object(x.jsx)("div",{className:"d-flex justify-between mb-40",children:0!==t.length?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("h1",{children:e.searchInputValue?"Search results for: ".concat(e.searchInputValue):"Your favorites"}),Object(x.jsxs)("div",{className:"search-block d-flex align-center",children:[Object(x.jsx)("img",{src:"img/search.svg",className:"mr-15",alt:"Search"}),Object(x.jsx)("input",{type:"text",placeholder:"Search...",onChange:e.onChangeSearchInput,value:e.searchInputValue}),e.searchInputValue&&Object(x.jsx)("img",{src:"img/cancel-btn.svg",onClick:e.clearSearchValue,alt:"Clear",width:"17",height:"17"})]})]}):Object(x.jsx)("h1",{children:"Your favorites are empty"})}),Object(x.jsx)("div",{className:"d-flex flex-wrap",children:t.filter((function(t){return t.title.toLowerCase().includes(e.searchInputValue.toLowerCase())})).map((function(t){return Object(x.jsx)(Y,{id:t.id,imageUrl:t.imageUrl,title:t.title,price:t.price,onAddToCart:e.onAddToCart,onRemoveFromCart:e.onRemoveFromCart,onAddToFavorite:e.onAddToFavorite,onRemoveFromFavorite:e.onRemoveFromFavorite,favorited:!0},t.id)}))})]})}function M(){var e,t,r=Object(a.useState)([]),c=Object(j.a)(r,2),n=c[0],s=c[1];return Object(a.useEffect)((function(){Object(u.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A();case 2:t=e.sent,s(t);case 4:case"end":return e.stop()}}),e)})))()}),[]),console.log(n),Object(x.jsxs)("section",{className:"content p-40",children:[Object(x.jsx)("div",{className:"d-flex justify-between mb-40",children:0!==(null===(e=n.data)||void 0===e?void 0:e.length)?Object(x.jsx)("h1",{children:"Your orders"}):Object(x.jsx)("h1",{children:"Your order's list is empty"})}),Object(x.jsx)("div",{children:null===(t=n.data)||void 0===t?void 0:t.map((function(e){return Object(x.jsxs)("div",{children:[Object(x.jsxs)("h4",{className:"mt-20",children:["Order #",e.id]}),Object(x.jsx)("div",{className:"d-flex flex-wrap",children:e.items.map((function(e){return Object(x.jsx)(Y,Object(D.a)({},e),e.id)}))}),Object(x.jsxs)("h4",{children:["Total: ",Object(x.jsxs)("b",{children:[e.price," z\u0142"]})]}),Object(x.jsx)("hr",{className:"opacity-3 mb-50"})]})}))})]})}var q=function(){var e=Object(a.useState)([]),t=Object(j.a)(e,2),r=t[0],c=t[1],n=Object(a.useState)([]),s=Object(j.a)(n,2),i=s[0],l=s[1],h=Object(a.useState)([]),b=Object(j.a)(h,2),O=b[0],p=b[1],f=Object(a.useState)(""),g=Object(j.a)(f,2),_=g[0],C=g[1],w=Object(a.useState)(!1),A=Object(j.a)(w,2),B=A[0],V=A[1],R=Object(a.useState)(!0),L=Object(j.a)(R,2),D=L[0],P=L[1],z=Object(a.useState)(0),E=Object(j.a)(z,2),Y=E[0],q=E[1];Object(a.useEffect)((function(){function e(){return(e=Object(u.a)(d.a.mark((function e(){var t,r,a,n,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Promise.all([N(),F(),k()]);case 3:t=e.sent,r=Object(j.a)(t,3),a=r[0],n=r[1],s=r[2],l(a.data),p(n.data),c(s.data),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(0),alert(e.t0+"has been occurred"),console.warn(e.t0);case 17:return e.prev=17,P(!1),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[0,13,17,20]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(a.useEffect)((function(){q(i&&i.reduce((function(e,t){return e+t.price}),0))}),[i]);var Q=function(e){try{i.find((function(t){return t.itemId===e.itemId}))?alert("The item has already been added to the cart"):I(e).then((function(e){201===e.status?l((function(t){return[].concat(Object(o.a)(t),[e.data])})):alert("Server error, try to add an item later")}))}catch(t){alert(t)}},W=function(){var e=Object(u.a)(d.a.mark((function e(t){var r,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=i.find((function(e){return e.itemId===t})),a=r?r.id:t,e.prev=2,e.next=5,y(a);case 5:200===e.sent.status?l((function(e){return Object(o.a)(e).filter((function(e){return e.id!==a}))})):alert("Cannot delete the item from the cart. Please try it again later"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),alert(e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}(),X=function(){var e=Object(u.a)(d.a.mark((function e(t){var r,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!O.find((function(e){return e.id===t.id}))){e.next=5;break}alert("The item has already been added to favorites"),e.next=10;break;case 5:return e.next=7,S(t);case 7:r=e.sent,a=r.data,p((function(e){return[].concat(Object(o.a)(e),[a])}));case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),alert(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}(),Z=function(){var e=Object(u.a)(d.a.mark((function e(t){var r,a,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=O.find((function(e){return e.itemId===t})),a=r?r.id:t,e.prev=2,e.next=5,T(a);case 5:c=e.sent,p((function(e){return Object(o.a)(e).filter((function(e){return e.id!==c.data.id}))})),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),alert(e.t0),console.warn(e.t0);case 13:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}(),G=function(e){C(e.target.value)},$=function(){C("")};return Object(x.jsx)(m.Provider,{value:{items:r,cartItems:i,setCartItems:l,favoriteItems:O,cartTotalPrice:Y,isCartOpened:B,setIsCartOpened:V,onRemoveFromCart:W,isItemAddedToCart:function(e){return i.some((function(t){return Number(t.itemId)===Number(e)}))},isItemAddedToFavorites:function(e){return O.some((function(t){return Number(t.itemId)===Number(e)}))}},children:Object(x.jsxs)("div",{className:"wrapper clear",children:[Object(x.jsx)(v,{onClickCart:function(){return V(!B)}}),Object(x.jsxs)(K.c,{children:[Object(x.jsx)(K.a,{path:"favorites",exact:!0,children:Object(x.jsx)(J,{onAddToCart:Q,onRemoveFromCart:W,onChangeSearchInput:G,searchInputValue:_,clearSearchValue:$,onAddToFavorite:X,onRemoveFromFavorite:Z})}),Object(x.jsx)(K.a,{path:"orders",exact:!0,children:Object(x.jsx)(M,{})}),Object(x.jsx)(K.a,{path:"",exact:!0,children:Object(x.jsx)(H,{onAddToCart:Q,onRemoveFromCart:W,onChangeSearchInput:G,searchInputValue:_,clearSearchValue:$,onAddToFavorite:X,onRemoveFromFavorite:Z,isLoading:D})})]}),Object(x.jsx)(U,{})]})})},Q=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,72)).then((function(t){var r=t.getCLS,a=t.getFID,c=t.getFCP,n=t.getLCP,s=t.getTTFB;r(e),a(e),c(e),n(e),s(e)}))};r(70);s.a.render(Object(x.jsx)(c.a.StrictMode,{children:Object(x.jsx)(i.a,{children:Object(x.jsx)(q,{})})}),document.getElementById("root")),Q()}},[[71,1,2]]]);
//# sourceMappingURL=main.47ea5434.chunk.js.map